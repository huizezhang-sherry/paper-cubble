---
title: "2-0-cube"
output: pdf_document
---

<!-- and software implementation has been seen in many R packages: \pkg{raster} [@raster], \pkg{terra} [@terra], and \pkg{stars} [@stars]. -->

<!-- # Existing work and new challenges -->

<!-- Spatio-temporal software should echo with the advance in spatial and temporal data analysis. This section will start with the \pkg{spacetime} paper [@spacetime] that sets the foundation for wrangling spatio-temporal data in \proglang{R}, and then describe some emerging concepts and software in data analysis since the paper publishes and what remains as challenges. -->


<!-- Also, array is not the best solution for a large subset of data, specifically, the vector spatio-temporal data. With vector data, spatial and temporal variables are commonly collected in separate 2D tables and there is usually a location ID to link the spatial and temporal information. Sometimes, the geometrical shape of the location may not present and an additional linking is needed to incorporate the map data. With the multiple pieces in 2D data frame format, there should be a solution to organise all these data from multiple sources in a 2D structure, without needing to convert it into higher dimensional representation. -->


# Conceptual framework: spatio-temporal cube {#cube}

Spatio-temporal data can be conceptualised using a cubical data model with three axis: variable, time, and space. This abstraction can be a useful tool to map operations on spatio-temporal data to operations on the cube. @lu_multidimensional_2018 has shown an example of how array operations can be mapped onto the cube including select, scale, reduce, rearrange, and compute. The cubical abstract can also be used to generalise visualisation, where @bach_review_2014 has reviewed the temporal data visualisation based on space-time cube operations. Notice that the term space-time cube in their article "does not need to involve spatial data", but referring to "an abstract 2D substrate that is used to visualize data at a specific time". Despite its main focus is on temporal data, the mindset of abstracting out data representation to construct visualisation is applicable to our spatio-temporal data manipulation and visualisation.

While a cubical conceptual data model is neat to conceptually view the spatio-temporal data, data wrangling is not convenient in a cubical representation or arrays. There are a few reasons for this: 1) Some variables only have the spatial dimension and an array representation will need to handle the duplication issue mentioned above. 2) While arrays are efficient for computation on numerical variables, spatio-temporal data contains more than just numerical variables. Wrangling on character strings and specific datetime classes are not easy with arrays. 3) The 2D operation of creating a new variable, i.e. `mutate()`, is not clear defined in an array. There are three different ways to add a 1D vector to a cubical array and this doesn't precisely define how the new variable should be added.

