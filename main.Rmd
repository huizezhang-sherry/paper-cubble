---
documentclass: jss
author:
  - name: H. Sherry Zhang
    affiliation: Monash University
    address: 21 Chancellors Walk, Clayton VIC 3800 Australia
    email: \email{huize.zhang@monash.edu}
  - name: Dianne Cook
    affiliation: 'Monash University \AND'
    address: 21 Chancellors Walk, Clayton VIC 3800 Australia
    # location: Melbourne, Australia
    email:  dicook@monash.edu
  - name: Ursula Laa
    affiliation: 'University of Natural Resources and Life Sciences \AND'
    address: Gregor-Mendel-Straße 33, 1180 Wien, Austria
    email:  ursula.laa@boku.ac.at
  - name: Nicolas Langrené
    affiliation: 'BNU-HKBU United International College \AND'
    address: 2000 Jintong Road, Tangjiawan, Zhuhai, Guangdong Province, China
    email: nicolas@langrene.com
  - name: Patricia Menéndez
    affiliation: 'Monash University \AND'
    address: 21 Chancellors Walk, Clayton VIC 3800 Australia
    email:  patricia.menendez@monash.edu
title:
  formatted: "\\pkg{cubble}: An R Package for Structuring Spatio-temporal Data"
  # If you use tex in the formatted title, alsoge supply version without
  plain:     "cubble: An R Package for Structuring Spatio-temporal Data"
  # For running headers, if needed
  # short:     "\\pkg{foo}: A Capitalized Title"
abstract: >
  Spatio-temporal variables can be divided into time invariant ones that can be identified by the spatial identifier, or the time varying ones that cross-identified by the spatial and temporal identifiers. In this paper, a new data structure, \code{cubble}, is proposed for manipulating and visualising spatio-temporal data. The new data structure uses two forms to organise time invariant and varying variables so that the spatial and temporal dimension of the data can be manipulated separately while keep synchronised. Advanced considerations are given to illustrate data with hierarchical structure, data matching, and how cubble fits with the interactive graphics pipeline. Examples are given to analysing Australia meteorology data, river level data, and climate reanalysis (ERA5). 
keywords:
  # at least one keyword must be supplied
  formatted: [spatio temporal,  "\\proglang{R}", climate weather station, data analysis]
  plain:     [spatio temporal, R, climate weather station, data analysis]
preamble: >
  \usepackage{amsmath}
  \usepackage{array}
  \usepackage{xcolor}
output: rticles::jss_article
bibliography: references.bib
---

```{r setup, echo = FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  warning = FALSE,
  message = FALSE,
  cache = TRUE,
  fig.path = "figures/",
  fig.height = 10
)
options(prompt = "R> ", continue = "+ ", 
        tibble.print_max = 5, tibble.print_min = 5)
```

```{r echo = FALSE}
library(cubble)
library(forcats)
library(stringr)
library(dplyr)
library(lubridate)
library(ggplot2)
library(GGally)
library(plotly)
library(crosstalk)
library(patchwork)
```

\newpage

```{r child = "1-intro.Rmd"}

```

```{r child = "2-the-cubble-pkg.Rmd"}

```

```{r child = "3-advanced.Rmd"}

```

```{r child = "4-1-basic.Rmd"}

```

```{r child = "4-2-agg.Rmd"}

```


```{r child = "4-3-water-level.Rmd"}

```


```{r child = "4-4-netcdf.Rmd"}

```

```{r child = "4-5-interactive.Rmd"}

```


```{r child = "5-conclusion.Rmd"}

```
