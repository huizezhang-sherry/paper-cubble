---
title: "cubble: An R Package for Structuring Spatio-temporal Data"
authors:
  - name: H. Sherry Zhang
    affiliation: Monash University
    location: 21 Chancellors Walk, Clayton VIC 3800 Australia
    email: huize.zhang@monash.edu
  - name: Dianne Cook
    affiliation: Monash University
    location: 21 Chancellors Walk, Clayton VIC 3800 Australia
    email: dicook@monash.edu
  - name: Ursula Laa
    affiliation: University of Natural Resources and Life Sciences
    location: Gregor-Mendel-Straße 33, 1180 Wien, Austria
    email:  ursula.laa@boku.ac.at
  - name: Nicolas Langrené
    affiliation: BNU-HKBU United International College
    location: 2000 Jintong Road, Tangjiawan, Zhuhai, Guangdong Province, China
    email: nicolaslangrene@uic.edu.cn
  - name: Patricia Menéndez
    affiliation: Monash University
    location: 21 Chancellors Walk, Clayton VIC 3800 Australia
    email:  patricia.menendez@monash.edu
abstract: |
    Multivariate spatio-temporal data refers to multiple measurements taken across space and time. For many analyses, components can be separately studied: for example, to explore temporal trend of one variable for a single spatial location, or spatial distribution of one variable for one time might be modelled. However, at some level it is important to analyse all aspects, like temporal trend of multiple variables across all locations. To make it easy to do all these tasks, we introduce a new data structure, \code{cubble}, with a suite of functions enabling easy slicing and dicing on the different components, for visual and numerical explorations. A \code{cubble} ensures that all the components of the data are synchronised while providing flexibility for analysis, and also the capability to handle hierarchical spatial and temporal structure. The tools are illustrated with examples showing visualisation of Australian climate data, merging climate and river level data sources, reproducing a climate reanalysis (ERA5), and creating interactive graphics.
keywords:
- spatial, temporal, spatio temporal, R, exploratory data analysis, environmental data, climate data
bibliography: "../references.bib"
cls: "../jss.cls"
bst: "../jss.bst"
preamble: |
  \newcommand{\sherry}[1]{\textcolor{magenta}{#1}}
output:
  bookdown::pdf_book:
    base_format: rticles::arxiv_article
link-citations: true
---
```{r setup, echo = FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  warning = FALSE,
  message = FALSE,
  cache = TRUE,
  fig.path = here::here("figures/"),
  fig.height = 10,
  root.dir = here::here()
)
options(prompt = "R> ", continue = "+ ",
        tibble.print_max = 5, tibble.print_min = 5)
```

```{r}
library(cubble)
library(dplyr)
```


\newpage

```{r child = here::here("1-intro.Rmd")}

```

```{r child = here::here("2-0-cube.Rmd")}

```


```{r child = here::here("2-the-cubble-pkg.Rmd")}

```

```{r child = here::here("3-advanced.Rmd")}

```

```{r child = here::here("4-1-basic.Rmd")}

```

```{r child = here::here("4-2-agg.Rmd")}

```


```{r child = here::here("4-3-water-level.Rmd")}

```


```{r child = here::here("4-4-netcdf.Rmd")}

```

```{r child = here::here("4-5-interactive.Rmd")}

```


```{r child = here::here("5-conclusion.Rmd")}

```
